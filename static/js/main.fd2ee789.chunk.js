(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/profile.30d92829.jpg"},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo.96335a16.webp"},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/loginSplash.30d92829.jpg"},59:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo.a57ca03b.png"},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(1),n=a.n(c),i=a(37),r=a.n(i),l=(a(44),a(5)),o=a(6),d=a(8),u=a(7),m=a(22),h=a(2),b=(a(45),a(16)),j=a.n(b),f=(a(46),a(26),a(19),a(20),a(47),function(e){Object(d.a)(c,e);var t=Object(u.a)(c);function c(){return Object(l.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"componentDidMount",value:function(){j()((function(){j()('[data-toggle="tooltip"]').tooltip({show:"300",hide:"300",trigger:"hover"})}))}},{key:"render",value:function(){return Object(s.jsxs)("nav",{className:"h-100 d-flex flex-column align-items-center ",id:"navbar",children:[Object(s.jsx)("div",{className:"logo d-flex flex-row align-items-center justify-content-center shadow shadow-lg",children:Object(s.jsx)("img",{src:a(48).default,style:{width:"4rem",height:"4rem",objectFit:"cover"},alt:""})}),Object(s.jsx)(m.b,{to:"/",activeClassName:"navbar-item-active",className:"navbar-item","data-toggle":"tooltip","data-trigger":"hover","data-placement":"right",title:"Add Freelancers",children:Object(s.jsx)("i",{className:"bi bi-person-plus-fill navbar-icon"})}),Object(s.jsx)(m.b,{to:"/freelancers",activeClassName:"navbar-item-active",className:"navbar-item","data-toggle":"tooltip","data-trigger":"hover","data-placement":"right",title:"Freelancers",children:Object(s.jsx)("i",{className:"bi bi-people-fill navbar-icon"})}),Object(s.jsx)(m.b,{to:"/categories",activeClassName:"navbar-item-active",className:"navbar-item","data-toggle":"tooltip","data-trigger":"hover","data-placement":"right",title:"Categories",children:Object(s.jsx)("i",{className:"bi bi-ui-checks navbar-icon"})})]})}}]),c}(n.a.Component)),p=a(32);a(53),a(54),a(55);p.a.initializeApp({apiKey:"AIzaSyBL0GAibixmxr2xDtikLTQJmntqfzVUZ_M",authDomain:"sahayi-58ad6.firebaseapp.com",databaseURL:"https://sahayi-58ad6-default-rtdb.firebaseio.com",projectId:"sahayi-58ad6",storageBucket:"sahayi-58ad6.appspot.com",messagingSenderId:"585410357688",appId:"1:585410357688:web:efe760f329a717dcbdc74d",measurementId:"G-DZ8L2EDPQ1"});var x=p.a,g=(a(21),a(56),function(e){Object(d.a)(c,e);var t=Object(u.a)(c);function c(e){var a;return Object(l.a)(this,c),(a=t.call(this,e)).signInUser=function(){x.auth().signInWithEmailAndPassword(a.state.username,a.state.password).then((function(e){e&&a.props.authenticate(e)})).catch((function(e){console.log("Error while loggin in ",e),alert("Login Failed. Try again")}))},a.handleUsername=function(e){a.setState({username:e.target.value})},a.handlePassword=function(e){a.setState({password:e.target.value})},a.state={username:"",password:""},a}return Object(o.a)(c,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"w-100 h-100 d-flex flex-row",children:[Object(s.jsx)("div",{id:"splash",children:Object(s.jsx)("img",{src:a(57).default,className:"splash-image",alt:"Login Splash"})}),Object(s.jsxs)("div",{id:"loginContainer",className:" d-flex flex-column justify-content-around",children:[Object(s.jsxs)("div",{className:"d-flex justify-content-center align-items-center w-100 flex-row py-5",children:[Object(s.jsx)("i",{className:"bi bi-github h3 mx-3"}),Object(s.jsx)("h3",{className:"h3",children:"Login"})]}),Object(s.jsx)("div",{className:"container h-75 px-5",children:Object(s.jsxs)("div",{className:"d-flex flex-column w-100 align-items-center justify-content-center p-5",children:[Object(s.jsx)("h3",{className:"h3 text-center text-capitalize",children:"Welcome back,"}),Object(s.jsx)("h3",{className:"h3 text-center text-capitalize",children:"Admin"}),Object(s.jsx)("div",{className:"form-group w-100 mx-5 mt-5 mb-3 w-100",children:Object(s.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"youremail@gmail.com",className:"form-control w-100 p-3",value:this.state.username,onChange:this.handleUsername,required:!0})}),Object(s.jsx)("div",{className:"form-group mx-5 w-100 mb-3",children:Object(s.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"form-control w-100 p-3",value:this.state.password,onChange:this.handlePassword,required:!0})}),Object(s.jsx)("div",{className:"d-flex flex-row justify-content-end align-items-center w-100 px-5 mb-3",children:Object(s.jsx)("a",{href:"#email",className:"text-muted text-capitalize",children:"Forgot Password"})}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary text-capitalize w-100 mx-5 p-3",onClick:function(){e.signInUser()},children:"Login"})]})})]})]})}}]),c}(c.Component)),v=a(3),O=a.n(v),w=a(13),y=a(15),N=(a(35),a(59),a(60),function(e){Object(d.a)(c,e);var t=Object(u.a)(c);function c(){return Object(l.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"w-100 bg-light d-flex flex-row align-items-center",id:"topbar-container",children:Object(s.jsxs)("div",{className:"d-flex flex-row align-items-center ml-auto mr-5",children:[Object(s.jsx)("img",{src:a(61).default,className:" ml-5 mr-2",alt:"profile",id:"topbar-profile-pic"}),Object(s.jsx)("h3",{className:"h3 mx-3",children:"Admin"}),Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("button",{className:"btn dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),Object(s.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuButton",children:[Object(s.jsxs)("button",{className:"dropdown-item",children:[Object(s.jsx)("i",{className:"bi bi-gear mr-3"})," Settings"]}),Object(s.jsx)("div",{className:"dropdown-divider"}),Object(s.jsxs)("button",{className:"dropdown-item",children:[Object(s.jsx)("i",{className:"bi bi-arrow-right mr-3"})," Logout"]})]})]})]})})}}]),c}(n.a.Component)),S=a(29),k=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).getService=function(){x.database().ref("sub_categories").once("value",(function(t){var a=[];for(var s in t.val())a.push(t.val()[s]);e.setState({sub_categories:a})}))},e.handleService=function(t){e.setState({sub_category:t.target.value})},e.state={password:"",fName:"",lName:"",email:"",sub_category:"",sub_categories:[]},e.submitfName=e.submitfName.bind(Object(y.a)(e)),e.submitlName=e.submitlName.bind(Object(y.a)(e)),e.submitPassword=e.submitPassword.bind(Object(y.a)(e)),e.submitLogin=e.submitLogin.bind(Object(y.a)(e)),e.submitEmail=e.submitEmail.bind(Object(y.a)(e)),e}return Object(o.a)(a,[{key:"submitfName",value:function(e){this.setState({fName:e.target.value})}},{key:"submitlName",value:function(e){this.setState({lName:e.target.value})}},{key:"submitEmail",value:function(e){this.setState({email:e.target.value})}},{key:"submitPassword",value:function(){var e=this.state.fName+this.state.lName+Math.floor(10*Math.random()+1);this.setState({password:e})}},{key:"submitLogin",value:function(){var e=Object(w.a)(O.a.mark((function e(){var t=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.lName||""===this.state.fName||""===this.state.sub_category){e.next=7;break}return e.next=3,this.submitPassword();case 3:return e.next=5,x.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then(function(){var e=Object(w.a)(O.a.mark((function e(a){var s,c,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=S.join("/freelancers"),e.next=3,x.database().ref(s).child(a.user.uid);case 3:return c=e.sent,e.next=6,x.database().ref(s).child(a.user.uid).child("active");case 6:return n=e.sent,e.next=9,c.set({id:a.user.uid,email:t.state.email,name:t.state.fName+" "+t.state.lName,age:"",bio:"",facebook:"",galleryimages:"",instagram:"",linkedin:"",whatsapp:"",profilepicture:"",sex:"",sub_category:t.state.sub_category,title:""});case 9:return e.next=11,n.set({active:"true"});case 11:alert("Account Created."),t.setState({password:"",fName:"",lName:"",email:"",sub_category:""});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=e.message;console.log(t)}));case 5:e.next=9;break;case 7:console.log("handle no lname and fname"),alert("Please Enter Name and Select a service.");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getService()}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"w-100 h-100",children:[Object(s.jsx)(N,{}),Object(s.jsxs)("div",{className:"container-fluid p-5 w-100",children:[Object(s.jsxs)("div",{className:"d-flex flex-column mx-5 px-5 justify-content-around border py-3",id:"freelancer-form",children:[Object(s.jsx)("h1",{className:"h1 text-capitalize mx-5 px-5 w-50 align-self-center",children:"Add Freelancer"}),Object(s.jsxs)("div",{className:"d-flex flex-row mx-5 px-5 w-50 align-self-center",children:[Object(s.jsx)("input",{onChange:this.submitfName,value:this.state.fName,type:"text",name:"fname",id:"fname",className:"form-control mr-5",placeholder:"First Name",required:!0}),Object(s.jsx)("input",{onChange:this.submitlName,value:this.state.lName,type:"text",name:"lname",id:"lname",className:"form-control ml-5",placeholder:"Last Name",required:!0})]}),Object(s.jsx)("div",{className:"mx-5 px-5 w-50 align-self-center",children:Object(s.jsx)("input",{onChange:this.submitEmail,value:this.state.email,type:"email",name:"email",id:"email",className:"form-control",placeholder:"emailid@example.com",required:!0})}),Object(s.jsx)("div",{className:"mx-5 px-5 w-50 align-self-center",children:Object(s.jsxs)("select",{name:"category",id:"category",className:"custom-control custom-select",placeholder:"Category",value:this.state.sub_category,onChange:this.handleService,children:[Object(s.jsx)("option",{defaultChecked:!0,value:"",children:"Select Service"}),this.state.sub_categories.map((function(e,t){return console.log("Value inside the select is ",e),Object(s.jsx)("option",{value:e.id,children:e.name})}))]})}),Object(s.jsx)("div",{className:"mx-5 px-5 w-50 align-self-center",children:Object(s.jsx)("button",{onClick:this.submitLogin,className:"btn btn-primary text-capitalize w-100",children:"Generate Freelancer Account"})})]}),Object(s.jsx)("div",{className:"d-flex flex-column m-5 p-5 bg-light",children:Object(s.jsxs)("div",{className:"mx-5 px-5",children:[Object(s.jsxs)("div",{className:"d-flex flex row ml-2",children:[Object(s.jsx)("h3",{className:"h3 w-50 text-primary",children:"Email"}),Object(s.jsx)("h3",{className:"h3 text-primary",children:this.state.email})]}),Object(s.jsxs)("div",{className:"d-flex flex row ml-2",children:[Object(s.jsx)("h3",{className:"h3 w-50 text-primary",children:"Password"}),Object(s.jsx)("h3",{className:"h3 text-primary",children:this.state.password})]})]})})]})]})}}]),a}(c.Component),C=(a(62),a(63),a(29)),A=function(e){Object(d.a)(c,e);var t=Object(u.a)(c);function c(e){var a;return Object(l.a)(this,c),(a=t.call(this,e)).toggleActivate=function(){var e=C.join("/freelancers",a.props.uid,"active/"),t=x.database().ref(e);!0===a.state.userActive?(a.setState({userActive:!1}),t.set({active:"false"})):(a.setState({userActive:!0}),t.set({active:"true"}))},a.getGalleryImages=Object(w.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=C.join("/Freelancers",a.props.freelancer.id,"gallery/"),x.storage().ref(t).listAll().then((function(e){var t=[];console.log("The response for "+a.props.freelancer.id+"is ",e.items),e.items.forEach((function(e){e.getDownloadURL().then((function(e){console.log("Link is ",e),t.push(e),a.setState({galleryImages:t})}))}))}));case 3:case"end":return e.stop()}}),e)}))),a.getFreelancerTags=function(){var e=a.props.freelancer.tags;if(void 0!==e&&null!==e){var t=x.database().ref("tags"),s=[];e.forEach((function(e){t.child(e).once("value",(function(e){s.push(e.val()),a.setState({skillDetails:s})}))}))}},a.state={userActive:!0,skillDetails:[],galleryImages:[]},a}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;this.getGalleryImages().then((function(){e.getFreelancerTags()}))}},{key:"render",value:function(){var e="userModalCenter-"+this.props.uid,t="#"+e;return Object(s.jsxs)("div",{className:"freelancer-card border d-flex flex-column justify-content-around align-items-center p-5 shadow my-3",children:[Object(s.jsx)("div",{id:"status-indicator",className:!0===this.state.userActive?"user-active":"user-inactive"}),Object(s.jsxs)("button",{className:"w-100 h-100 bg-transparent border-0 btn","data-toggle":"modal","data-target":t,children:[Object(s.jsx)("img",{src:this.props.freelancer.profilepicture||a(36).default,alt:"profile",className:"freelancer-photo"}),Object(s.jsx)("h4",{className:"h4 text-capitalize",children:this.props.name}),Object(s.jsx)("small",{className:"font-weight-bold text-capitalize",children:this.props.title})]}),Object(s.jsxs)("div",{className:"custom-control custom-switch",children:[Object(s.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customSwitch".concat(this.props.uid),checked:!!this.state.userActive,onChange:this.toggleActivate}),Object(s.jsx)("label",{className:"custom-control-label",htmlFor:"customSwitch".concat(this.props.uid)})]}),Object(s.jsx)("div",{className:"modal fade",id:e,tabIndex:"-1",role:"dialog","aria-labelledby":"userCardTitle","aria-hidden":"true",children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered mr-0 h-100 my-0 profile-container",role:"document",children:Object(s.jsxs)("div",{className:"modal-content h-100 border-0 rounded-0 bg-light",children:[Object(s.jsx)("div",{className:"modal-header profile-modal-header",children:Object(s.jsx)("h1",{className:"modal-title profile-title text-center text-capitalize mx-auto",id:"userCardTitle",children:this.props.name})}),Object(s.jsxs)("div",{className:"modal-body h-100 profile-body d-flex flex-column w-100 align-items-center px-5",children:[Object(s.jsx)("img",{src:this.props.freelancer.profilepicture||a(36).default,alt:"profilePic",className:"proflie-pic my-3"}),Object(s.jsx)("h3",{className:"h3 my-3",children:this.props.title||"Add Bio"}),Object(s.jsx)("h5",{className:"h5 my-3 text-capitalize",children:void 0!==this.props.freelancer.location&&""!==this.props.location?"".concat(this.props.freelancer.location.text||"Add Location."):"Add Location."}),Object(s.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center w-100 my-3",children:[Object(s.jsx)("i",{className:"bi bi-whatsapp mr-3 h3 text-danger"}),Object(s.jsx)("a",{href:"https://wa.me/+91"+this.props.freelancer.whatsapp,target:"_blank",rel:"noopener noreferrer",children:Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.75rem",height:"1.75rem",fill:"rgb(0,255,0)",class:"bi bi-whatsapp mr-3",viewBox:"0 0 16 16",children:Object(s.jsx)("path",{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"})})}),Object(s.jsx)("a",{href:"https://"+this.props.freelancer.facebook,target:"_blank",rel:"noopener noreferrer",children:Object(s.jsx)("i",{className:"bi bi-facebook mr-3 h3 text-primary"})})]}),Object(s.jsx)("p",{className:"p text-justify",children:this.props.bio}),Object(s.jsx)("h3",{className:"h3 align-self-start my-3",children:"Skills"}),Object(s.jsx)("div",{className:"d-flex flex-row flex-wrap w-100",children:0===this.state.skillDetails.length?Object(s.jsx)("h5",{className:"h5",children:"Add skill"}):this.state.skillDetails.map((function(e,t){return Object(s.jsx)("small",{className:"text-white bg-primary px-3 py-2 mr-2 mb-2",children:e.tag_name},e.id)}))}),Object(s.jsx)("h3",{className:"h3 align-self-start my-3",children:"Gallery"}),Object(s.jsx)("div",{className:"d-flex flex-row flex-wrap w-100",children:0===this.state.galleryImages.length?Object(s.jsx)("div",{className:"d-flex flex-row align-items-center justify-content-center w-100",children:Object(s.jsx)("h5",{className:"h5 text-center",children:"No Images"})}):this.state.galleryImages.map((function(e,t){return Object(s.jsx)("img",{src:e,className:"gallery-image",alt:"Gallery"},e)}))})]})]})})})]})}}]),c}(c.Component),F=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).showFreelancerCards=Object(w.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fun call"),e.t0=Promise,e.next=4,s.handleFreelancer();case 4:e.t1=e.sent,e.t2=[e.t1],e.t0.all.call(e.t0,e.t2).then((function(e){return console.log(e)})).catch((function(e){return console.log(e.message)}));case 7:case"end":return e.stop()}}),e)}))),s.handleFreelancer=function(){try{return new Promise((function(e){var t=x.database().ref("/freelancers"),a=[];t.once("value",(function(t){t.forEach((function(e){var t=e.key,c=e.val();c.key=t,console.log(c),a.push(c),Promise.all([s.handletags(c)]).then((function(e){return console.log(e)})).catch((function(e){return console.log(e.message)})),s.setState({freelancers:a})})),e(s.state.userTag)}))}))}catch(e){console.log(e.message)}},s.handletags=function(e){console.log("tag function");var t=[];try{return new Promise((function(a){void 0!==e.tags&&e.tags.forEach((function(e,a){x.database().ref("tags/"+e).once("value").then((function(e){t.push(e.val()),s.setState({userTag:t})}))})),a("solved")}))}catch(a){console.log(a.message)}},s.tagHandle=function(e){try{e.forEach((function(e){x.database().ref("tags/"+e).once("value").then((function(e){return e.val().tag_name}))}))}catch(t){console.log(t.message)}},s.state={freelancers:[],userTag:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.showFreelancerCards()}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"h-100",children:[Object(s.jsx)(N,{}),Object(s.jsxs)("div",{className:"d-flex flex-column w-100 px-5 pt-5 pb-0",id:"mainContainer",children:[Object(s.jsxs)("div",{className:"d-flex flex-row justify-content-around",children:[Object(s.jsx)("input",{type:"text",name:"username",id:"username",className:"form-control w-25 mx-3",placeholder:"Enter Freelancer"}),Object(s.jsxs)("button",{className:"btn btn-primary w-25 mx-3",children:[Object(s.jsx)("i",{className:"bi bi-search mr-3"}),"Search"]}),Object(s.jsx)("select",{name:"category",id:"category",className:"custom-select w-25 mx-3",children:Object(s.jsx)("option",{value:"",selected:!0,children:"Select Category"})}),Object(s.jsx)("select",{name:"service",id:"service",className:"custom-select w-25 mx-3",children:Object(s.jsx)("option",{value:"",selected:!0,children:"Select Service"})}),Object(s.jsxs)("button",{className:"btn btn-primary w-25 mx-3",children:[Object(s.jsx)("i",{className:"bi bi-sliders mr-3"}),"Apply Filters"]})]}),Object(s.jsx)("h4",{className:"h4 m-3 font-weight-light",children:"All Freelancers"}),Object(s.jsx)("div",{className:"d-flex flex-row flex-wrap justify-content-around pb-5",id:"freelancerCardContainer",children:this.state.freelancers.map((function(e,t){return Object(s.jsx)(A,{name:e.name,title:e.title,freelancer:e,uid:e.key,bio:e.bio},t)}))})]})]})}}]),a}(c.Component),I=(a(64),a(29)),E=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).showServices=function(){var e=Object(w.a)(O.a.mark((function e(t){var a,c,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({selectedCategory:t}),a=I.join("categories/",t,"sub_categories"),console.log(a),e.next=5,x.database().ref(a);case 5:return c=e.sent,n=[],e.next=9,c.once("value",(function(e){e.forEach((function(e){var t=e.key,a=e.val();console.log("the child Key is ",t),console.log("the child date is ",a),console.log(a),n.push(a)}))}));case 9:s.setState({services:n}),console.log(JSON.stringify(s.state.services));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.addServices=Object(w.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==s.state.selectedCategory?(t=document.getElementById("serviceIcon").files[0],s.setState({updatingService:!0,file:t},Object(w.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.database().ref("sub_categories").push();case 2:t=e.sent,a={id:t.key,name:s.state.newService,logo:"https://firebasestorage.googleapis.com/v0/b/sahayi-58ad6.appspot.com/o/Sub_categories%2Flogo%2Flogo.webp?alt=media&token=70de4bc4-3cc8-427d-aa9c-fab88d8fb929"},t.update(a).then((function(){s.state.file?x.storage().ref("Sub_categories").child(s.state.newService).child(s.state.newService).put(s.state.file).then((function(e){alert("Service Icon added."),e.ref.getDownloadURL().then((function(e){t.update({logo:e}).then((function(){a.logo=e,x.database().ref("categories/"+s.state.selectedCategory+"/sub_categories/"+t.key).update(a).then((function(){console.log("Service added to categories succesfully"),s.setState({newService:"",updatingService:!1},(function(){alert("Service added successfully")}))})).catch((function(e){console.log("Failed to add service : FAILED TO UPDATE CATEGORY ",e),s.setState({updatingService:!1},(function(){alert("Failed to add service.")}))}))}))}))})).catch((function(e){console.log("Error occured while adding service Icon ",e),s.setState({updatingService:!1},(function(){alert("Failed to add Service Icon")}))})):(console.log("file is none"),x.database().ref("categories/"+s.state.selectedCategory+"/sub_categories/"+t.key).update(a).then((function(){console.log("Service added to categories succesfully"),s.setState({newService:"",updatingService:!1},(function(){alert("Service added successfully")}))})).catch((function(e){console.log("Failed to add service : FAILED TO UPDATE CATEGORY ",e),s.setState({newService:"",updatingService:!1},(function(){alert("Failed to add service.")}))})))})).catch((function(e){console.log("error happened while adding service ",e),s.setState({newService:"",updatingService:!1},(function(){alert("Failed to add serivce. Please try again.")}))}));case 5:case"end":return e.stop()}}),e)}))))):alert("First select a category from the right side then add a service.");case 1:case"end":return e.stop()}}),e)}))),s.showCategory=Object(w.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.database().ref("/categories");case 2:return t=e.sent,a=[],e.next=6,t.once("value",(function(e){e.forEach((function(e){var t=e.key,s=e.val();s.key=t,a.push(s)}))}));case 6:console.log(a),s.setState({category:a});case 8:case"end":return e.stop()}}),e)}))),s.state={category:[],services:[],show:!0,newService:"",selectedCategory:"",updatingService:!1},s.newService=s.newService.bind(Object(y.a)(s)),s}return Object(o.a)(a,[{key:"newService",value:function(e){this.setState({newService:e.target.value})}},{key:"componentDidMount",value:function(){this.showCategory()}},{key:"render",value:function(){var e=this;return console.log(this.state.newService),Object(s.jsxs)("div",{className:"h-100 d-flex flex-row",children:[Object(s.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(s.jsx)("div",{class:"modal-dialog",children:this.state.updatingService?Object(s.jsx)("div",{class:"modal-content align-items-center justify-content-center",style:{height:"10rem"},children:Object(s.jsx)("div",{class:"spinner-border text-primary",role:"status",children:Object(s.jsx)("span",{class:"sr-only",children:"Loading..."})})}):Object(s.jsxs)("div",{class:"modal-content",children:[Object(s.jsxs)("div",{class:"modal-header",children:[Object(s.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Add Services"}),Object(s.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsxs)("div",{class:"modal-body",children:[Object(s.jsxs)("div",{class:"input-group mb-3",children:[Object(s.jsx)("input",{type:"file",class:"form-control",id:"serviceIcon",required:!0}),Object(s.jsx)("label",{class:"input-group-text",for:"serviceIcon",children:"Upload"})]}),Object(s.jsxs)("div",{class:"mb-3",children:[Object(s.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Service Name"}),Object(s.jsx)("input",{onChange:this.newService,type:"text",name:"service",id:"service",className:"form-control",placeholder:"Service",required:!0})]})]}),Object(s.jsxs)("div",{class:"modal-footer",children:[Object(s.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(s.jsx)("button",{type:"button",class:"btn btn-primary",onClick:function(){return e.addServices()},children:"Save changes"})]})]})})}),Object(s.jsxs)("div",{className:"d-flex flex-column w-25 h-100 p-3",id:"services-sidebar",children:[Object(s.jsx)("input",{type:"text",name:"search-text",id:"search-text",placeholder:"Search Services",className:"form-control p-3 bg-light mt-3 mb-4"}),Object(s.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center mb-3",children:[Object(s.jsx)("h6",{className:"h6 text-uppercase font-weight-bold",children:"Services"}),Object(s.jsx)("button",{type:"button",className:"btn","data-toggle":"modal","data-target":"#exampleModal",children:Object(s.jsx)("i",{className:"bi bi-plus h3"})})]}),this.state.services.map((function(e,t){return Object(s.jsxs)("div",{className:"d-flex flex-row w-100 bg-white align-items-center justify-content-between p-3 mt-1",style:{height:"4em",borderRadius:7},children:[Object(s.jsx)("div",{className:"rounded-circle bg-primary",style:{height:"3em",width:"3em"},children:Object(s.jsx)("img",{src:e.logo,className:"rounded-circle bg-primary",alt:"",style:{height:"3em",width:"3em"}})}),Object(s.jsx)("div",{className:"font-weight-bold w-100 pl-3 text-capitalize",style:{fontSize:"1em"},children:e.name})]},t)}))]}),Object(s.jsxs)("div",{className:"w-100",children:[Object(s.jsx)(N,{}),Object(s.jsxs)("div",{className:"w-100 d-flex flex-column p-3",id:"categoriesContainerMain",children:[Object(s.jsxs)("div",{className:"d-flex flex-row align-items-center justify-content-end px-5 my-3",children:[Object(s.jsx)("input",{type:"text",name:"category-search",id:"category-search",placeholder:"Search Categories",className:"form-control p-3 w-25 mx-3"}),Object(s.jsx)("button",{className:"btn btn-primary mr-5 px-5",children:"Search"})]}),Object(s.jsx)("div",{className:"d-flex flex-row mx-5 px-5",children:Object(s.jsx)("h3",{className:"h3 text-uppercase font-weight-light",children:"Category"})}),Object(s.jsx)("div",{className:"d-flex flex-row flex-wrap mx-5 px-5 h-100 justify-content-between",id:"category-container",children:this.state.category.map((function(t,a){return Object(s.jsx)("div",{className:"h-25 w-25 d-flex flex-column p-3 category-card mb-5",onClick:function(){return e.showServices(t.key)},children:Object(s.jsx)("h3",{className:"h3 text-capitalize",children:t.name})},a)}))})]})]})]})}}]),a}(c.Component),L=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).authenticateUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s.setState({isAthenticated:!0,user:e})},s.state={isAthenticated:!1},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"App d-flex flex-row ",children:this.state.isAthenticated?Object(s.jsxs)(m.a,{children:[Object(s.jsx)(f,{}),Object(s.jsx)("div",{className:"d-flex flex-column w-100 mx-0 px-0",children:Object(s.jsxs)(h.c,{children:[Object(s.jsx)(h.a,{exact:!0,path:"/",children:Object(s.jsx)(k,{})}),Object(s.jsx)(h.a,{path:"/freelancers",children:Object(s.jsx)(F,{})}),Object(s.jsx)(h.a,{path:"/categories",children:Object(s.jsx)(E,{})})]})})]}):Object(s.jsx)(g,{authenticate:this.authenticateUser})})}}]),a}(n.a.Component),P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))};r.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(L,{})}),document.getElementById("root")),P()}},[[65,1,2]]]);
//# sourceMappingURL=main.fd2ee789.chunk.js.map